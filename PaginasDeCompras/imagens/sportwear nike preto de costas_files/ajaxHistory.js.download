var application=application||{};application.productHistory=function(t,a){"use strict";function i(){c.productHistory()}function o(t){t.preventDefault();var i=a(this).attr("href");a.get(i,function(t){s.products.replaceWith(t),e()})}function r(t){t.preventDefault();var i=a(this).attr("href");a.get(i,function(){s.historyContainer.remove()})}function n(){var t=(new Date).getTime();a.post("/mvc/loja/navegacao/index/loja:"+application.store+"/"+t,{pagina:p.page,parametro:p.param},function(t){0==a(t).filter("#NavVisitados").length?s.historyContainer.html(t):s.historyContainer.replaceWith(t),e()})}function e(){s.historyContainer=a("#NavVisitados"),s.pageLinks=a(".visitados .linksPag a"),s.clearHistory=a(".visitados #clearHistory"),s.products=a(".visitados #visitados_prod"),s.pageLinks.on("click",o),s.clearHistory.on("click",r)}var s={historyContainer:a("#NavVisitados")},c={},p={page:a("#NavVisitados").attr("data-page"),param:a("#NavVisitados").attr("data-param")};return c.productHistory=function(){n()},{loadModule:i}}(document,jQuery).loadModule();