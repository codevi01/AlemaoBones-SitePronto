!function($){function format(t){for(var o=1;o<arguments.length;o++)t=t.replace("%"+(o-1),arguments[o]);return t}function CloudZoom(t,o){var e,i,s,n,a,r,u,l,d=$("img",t),p=null,c=null,h=null,m=null,f=null,g=null,v=0,y=0,x=0,b=0,w=0,z=0,O=this;setTimeout(function(){if(null===c){t.width()}},200);var k=function(){null!==g&&(g.remove(),g=null)};this.removeBits=function(){h&&(h.remove(),h=null),m&&(m.remove(),m=null),f&&(f.remove(),f=null),k(),$(".cloud-zoom-loading",t.parent()).remove()},this.destroy=function(){t.data("zoom",null),c&&(c.off(),c.remove(),c=null),p&&(p.remove(),p=null),this.removeBits()},this.fadedOut=function(){p&&(p.remove(),p=null),this.removeBits()},this.controlLoop=function(){if(h){var t=r-d.offset().left-.5*n>>0,e=u-d.offset().top-.5*a>>0;0>t?t=0:t>d.outerWidth()-n&&(t=d.outerWidth()-n),0>e?e=0:e>d.outerHeight()-a&&(e=d.outerHeight()-a),h.css({left:t,top:e}),h.css("background-position",-t+"px "+-e+"px"),y=t/d.outerWidth()*s.width>>0,x=e/d.outerHeight()*s.height>>0,w+=(y-w)/o.smoothMove,b+=(x-b)/o.smoothMove,p.css("background-position",-(w>>0)+"px "+(-(b>>0)+"px"))}v=setTimeout(function(){O.controlLoop()},30)},this.init2=function(t,o){z++,1===o&&(s=t),2===z&&this.init()},this.init=function(){$(".cloud-zoom-loading",t.parent()).remove(),$(".mousetrap").remove(),c=t.parent().append(format("<div class='mousetrap' style='background-image:url(\"/assets/store/img/vazio.gif\");z-index:999;position:absolute;width:100%;height:%1px;top:%3px;right:0px;'></div>",d.outerWidth(),d.outerHeight(),0,0)).find(":last"),c.on("mousemove",this,function(t){r=t.pageX,u=t.pageY}),c.on("mouseleave",this,function(){return clearTimeout(v),h&&h.fadeOut(0),m&&m.fadeOut(0),f&&f.fadeOut(0),p.fadeOut(1,function(){O.fadedOut()}),!1}),c.on("mouseenter",this,function(e){r=e.pageX,u=e.pageY,l=e.data,p&&(p.stop(!0,!1),p.remove());var i=o.adjustX,v=o.adjustY,y=d.outerWidth(),x=d.outerHeight(),b=o.zoomWidth,w=o.zoomHeight;"auto"==o.zoomWidth&&(b=y),"auto"==o.zoomHeight&&(w=x);var z=t.parent();switch(o.position){case"top":v-=w;break;case"right":i+=y;break;case"bottom":v+=x;break;case"left":i-=b;break;case"inside":b=y,w=x;break;default:z=$("#"+o.position),z.length?(b=z.innerWidth(),w=z.innerHeight()):(z=t,i+=y,v+=x)}p=z.append(format('<div id="cloud-zoom-big" class="cloud-zoom-big" style="display:none;position:absolute;left:%0px;top:%1px;width:%2px;height:%3px;background-image:url(\'%4\');z-index:999;margin-left:110px;"></div>',i,v,b,w,s.src)).find(":last"),d.attr("title")&&o.showTitle&&p.append(format('<div class="cloud-zoom-title">%0</div>',d.attr("title"))).find(":last").css("opacity",o.titleOpacity),$.browser.msie&&$.browser.version<7&&(g=$('<iframe frameborder="0" src="#"></iframe>').css({position:"absolute",left:i,top:v,zIndex:99,width:b,height:w}).insertBefore(p)),p.fadeIn(0),h&&(h.remove(),h=null),n=d.outerWidth()/s.width*p.width(),a=d.outerHeight()/s.height*p.height(),h=t.append(format("<div class = 'cloud-zoom-lens' style='display:none;z-index:98;position:absolute;width:%0px;height:%1px;'></div>",n,a)).find(":last"),c.css("cursor",h.css("cursor"));var O=!1;o.tint&&(h.css("background",'url("'+d.attr("src")+'")'),m=t.append(format('<div style="display:none;position:absolute; left:0px; top:0px; width:%0px; height:%1px; background-color:%2;" />',d.outerWidth(),d.outerHeight(),o.tint)).find(":last"),m.css("opacity",o.tintOpacity),O=!0,m.fadeIn(0)),o.softFocus&&(h.css("background",'url("'+d.attr("src")+'")'),f=t.append(format('<div style="position:absolute;display:none;top:2px; left:2px; width:%0px; height:%1px;" />',d.outerWidth()-2,d.outerHeight()-2,o.tint)).find(":last"),f.css("background",'url("'+d.attr("src")+'")'),f.css("opacity",.5),O=!0,f.fadeIn(0)),O||h.css("opacity",o.lensOpacity),"inside"!==o.position&&h.fadeIn(0),l.controlLoop()})},e=new Image,$(e).on("load",function(){O.init2(this,0)}),e.src=d.attr("src"),i=new Image,$(i).on("load",function(){O.init2(this,1)}),i.src=t.attr("href")}jQuery.browser={},function(){jQuery.browser.msie=!1,jQuery.browser.version=0,navigator.userAgent.match(/MSIE ([0-9]+)\./)&&(jQuery.browser.msie=!0,jQuery.browser.version=RegExp.$1)}(),$(document).ready(function(){$(".cloud-zoom, .cloud-zoom-gallery").CloudZoom()}),$.fn.CloudZoom=function(options){try{document.execCommand("BackgroundImageCache",!0,!0)}catch(e){}return this.each(function(){var relOpts,opts;eval("var	a = {"+$(this).attr("rel")+"}"),relOpts=a,$(this).is(".cloud-zoom")?($(this).css({position:"relative",display:"block"}),$("img",$(this)).css({display:"block"}),"wrap"!=$(this).parent().attr("id")&&$(this).wrap('<div id="wrap" style="top:0px;z-index:9999;position:relative;"></div>'),opts=$.extend({},$.fn.CloudZoom.defaults,options),opts=$.extend({},opts,relOpts),$(this).data("zoom",new CloudZoom($(this),opts))):$(this).is(".cloud-zoom-gallery")&&(opts=$.extend({},relOpts,options),$(this).data("relOpts",opts),$(this).on("mouseover",$(this),function(t){var o=t.data.data("relOpts");return $("#"+o.useZoom).data("zoom").destroy(),$("#"+o.useZoom).attr("href",t.data.attr("href")),$("#"+o.useZoom+" img").attr("src",t.data.data("relOpts").smallImage),$("#"+t.data.data("relOpts").useZoom).CloudZoom(),!1}),$(this).on("click",$(this),function(){return!1}))}),this},$.fn.CloudZoom.defaults={zoomWidth:"auto",zoomHeight:"auto",position:"right",tint:!1,tintOpacity:.5,lensOpacity:.5,softFocus:!1,smoothMove:3,showTitle:!0,titleOpacity:.5,adjustX:0,adjustY:0}}(jQuery);