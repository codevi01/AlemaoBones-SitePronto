var LiveshopAlert=LiveshopAlert||{};!function(t){function e(){o(),c.position&&!i()&&(n().then(function(t){return"published"!==t.status?void s("Live #"+t.id+" not published."):"true"===localStorage.getItem("liveshop_closed_notification_"+t.id)?void s("Notification closed."):(u(),l(t),a(),void r())}).catch(function(t){f("Error on get live","Alert",t)}),s("Initialized!"))}function o(){c.position=!1,null!==c.configurationMeta&&"0"!==c.configurationMeta.getAttribute("content")&&(c.position=c.configurationMeta.getAttribute("content"))}function i(){return t(".page-live").length>0}function n(){return new Promise(function(e,o){t.ajax({url:d.cdnBaseUrl+"/"+c.storeId+"/live.json",type:"GET",success:e,error:o})})}function l(e){c.alertElement=t("<div>").addClass("live-flutuante-info flutuante-show flutuante-"+c.position).append(t("<div>").addClass("live-flutuante-text").append(t("<span>").addClass("flutuante-pulse")).append(t("<span>").addClass("flutuante-text").text("Temos algo especial para você!"))).append(t("<a>").attr("href",window.location.protocol+"//"+window.location.host+"/liveshop/"+e.token).attr("target","_blank").addClass("live-flutuante-button").text("Ver Agora")).append(t("<div>").addClass("live-flutuante-close").attr("data-liveshop_id",e.id).append(jQuery.parseHTML('<svg width="21" height="20" viewBox="0 0 21 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M16.3203 5.35178L15.1484 4.17993L10.5 8.82825L5.85156 4.17993L4.67969 5.35178L9.32812 10.0001L4.67969 14.6484L5.85156 15.8203L10.5 11.1719L15.1484 15.8203L16.3203 14.6484L11.6719 10.0001L16.3203 5.35178Z" fill="#6B7280"/></svg>')))}function a(){t("body").append(c.alertElement)}function u(){t("head").append(t("<style>").text(".live-flutuante-info{opacity:0;visibility:hidden;position:fixed;z-index:99;bottom:5px;background-color:#fff;box-shadow:0 4px 24px 0 rgba(16,24,40,.08);border-radius:12px;padding:12px 12px 12px 20px;display:flex;align-items:center;justify-content:center;width:405px;margin:0 auto}.live-flutuante-info.flutuante-center{left:0;right:0}.live-flutuante-info.flutuante-left{left:5px}.live-flutuante-info.flutuante-right{right:5px}.live-flutuante-info.flutuante-show{opacity:1;visibility:visible}.live-flutuante-info .live-flutuante-text{display:flex;align-items:center}.live-flutuante-info .flutuante-text{font-weight:400;font-size:14px;line-height:20px;color:#0f0f0f}.live-flutuante-info .flutuante-pulse{display:block;width:8px;height:8px;border-radius:50%;background:red;animation:2s infinite flutuante-pulse;margin-right:8px}.live-flutuante-info .live-flutuante-button,.live-flutuante-info .live-flutuante-close{cursor:pointer;height:28px;line-height:28px;text-align:center;transition:.3s ease-in-out}@-webkit-keyframes flutuante-pulse{0%{-webkit-box-shadow:0 0 0 0 rgba(204,169,44,.4)}70%{-webkit-box-shadow:0 0 0 10px rgba(204,169,44,0)}100%{-webkit-box-shadow:0 0 0 0 rgba(204,169,44,0)}}@keyframes flutuante-pulse{0%{-moz-box-shadow:0 0 0 0 rgba(204,169,44,.4);box-shadow:0 0 0 0 rgba(204,169,44,.4)}70%{-moz-box-shadow:0 0 0 10px rgba(204,169,44,0);box-shadow:0 0 0 10px rgba(204,169,44,0)}100%{-moz-box-shadow:0 0 0 0 rgba(204,169,44,0);box-shadow:0 0 0 0 rgba(204,169,44,0)}}.live-flutuante-info .live-flutuante-button{width:89px;border-radius:6px;background-color:#cd3227;font-size:14px;font-weight:500;color:#fff;text-decoration:none;margin:0 16px}.live-flutuante-info .live-flutuante-button:hover{background-color:#bf201a}.live-flutuante-info .live-flutuante-close{display:flex;justify-content:center;align-items:center;width:28px;border-radius:8px;background-color:#fafafa}.live-flutuante-info .live-flutuante-close:hover{background-color:#e5e7eb}"))}function r(){const e=t(".live-flutuante-close"),o=t(".live-flutuante-info");e.on("click",function(){const e=t(this).data("liveshop_id");o.removeClass("flutuante-show"),localStorage.setItem("liveshop_closed_notification_"+e,!0)})}function s(t,e){e=e||"Alert",console.log("%c[LiveShop]["+e+"]%c "+t,"color: red;font-weight: bold;","color: white;")}function f(t,e,o){return e=e||"Alert",void 0===o?void console.error("%c[LiveShop]["+e+"]%c "+t,"color: red;font-weight: bold;","color: white;"):void console.error("%c[LiveShop]["+e+"]%c "+t,"color: red;font-weight: bold;","color: white;",o)}var d={cdnBaseUrl:"https://commerce-events-statics.tray.com.br"},c={storeId:document.getElementsByTagName("html")[0].getAttribute("data-store"),configurationMeta:document.querySelector('meta[setting="liveshop_alert_position"]'),alertElement:null,position:null};LiveshopAlert.init=e,LiveshopAlert.elements=c}(jQuery),jQuery(document).ready(function(){LiveshopAlert.init()});